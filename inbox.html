<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Inbox</title>
	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 h-screen flex">
	<!-- Sidebar -->
	<aside class="w-64 bg-white shadow-lg flex flex-col">
		<h1 class="text-xl font-bold p-5">GoMail</h1>
		<nav class="flex-1">
			<ul>
				<li class="sidebar-item px-5 py-3 hover:bg-gray-200 cursor-pointer flex items-center"
					data-category="inbox">
					ðŸ“¥ Inbox <span class="ml-auto bg-blue-500 text-white text-xs px-2 py-1 rounded-full">6</span>
				</li>
			</ul>
		</nav>
		<footer class="p-5 text-xs text-gray-500">
			Logged in as <strong>a@example.com</strong>
		</footer>
	</aside>

	<!-- Main Content -->
	<main class="flex-1 flex flex-col">
		<!-- Header -->
		<header class="bg-white shadow-md px-6 py-4 flex justify-between">
			<h2 class="text-lg font-semibold" id="category-title">Inbox</h2>
			<input type="text" id="search-bar" placeholder="Search mail..." class="px-3 py-2 border rounded-md w-1/3">
		</header>

		<div class="flex flex-1 overflow-hidden">
			<!-- Email List -->
			<section class="w-1/3 bg-white border-r overflow-y-auto">
				<ul id="email-list"></ul>
			</section>

			<!-- Email Preview -->
			<section class="flex-1 bg-white overflow-y-auto p-6">
				<h3 class="text-xl font-bold" id="email-subject">Select an email</h3>
				<p class="text-gray-500" id="email-from"></p>
				<hr class="my-4">
				<p class="text-gray-700 leading-6" id="email-body">Click on an email to view its content.</p>
			</section>
		</div>
	</main>

	<script>
		const emails = {
			inbox: [
				{
					sender: "C",
					email: "c@example.com",
					subject: "Re: A Again",
					body: `Ugh. A again.\n\nHe always turns this into a big **ethics debate**.\n\nThe system works and looks good on paper. Maybe give him a spot on some internal committee to keep him busy.\n\nâ€” **C**`,
					time: "Yesterday"
				},
				{
					sender: "B",
					email: "b@example.com",
					subject: "To C: Aâ€™s Audit Worries",
					body: `Hey C,\n\n**A wants to stop using the admissions system next cycle.** Says it's full of bias. Fixing it would take months.\n\nI donâ€™t think itâ€™s worth it. We need to **keep this quiet**.\n\nâ€” **B**`,
					time: "3 days ago"
				},
				{
					sender: "B",
					email: "b@example.com",
					subject: "Private Response",
					body: `B,\n\nThese concerns have been noted. I would recommend **keeping these conversations internal for now**â€”no need to jeopardize public perception.\n\nIâ€™ll speak with C about your audit notes.\n\nâ€” **B**`,
					time: "1 week ago"
				},
				{
					sender: "A",
					email: "a@example.com",
					subject: "Follow-up on Representation Bias",
					body: `B,\n\nThis isnâ€™t just about diversity on paper. **70% of our bachelor cohort is still Swiss**, and most of the rest come from EU countries.\n\nThe modelâ€™s training data reflects **past human bias**, not objective reality.\n\nWe need to pause the system and focus on inequality first.\n\nâ€” **A**`,
					time: "1 week ago"
				},
				{
					sender: "B",
					email: "b@example.com",
					subject: "RE: ACM Paper on Bias",
					body: `A,\n\nI read parts of it, but I think you're overstating the case. Our applicant pool is already **international**.\n\nLetâ€™s not undermine a model that is doing what it was designed to do.\n\nâ€” **B**`,
					time: "2 weeks ago"
				},
				{
					sender: "A",
					email: "a@example.com",
					subject: "ACM Paper on Bias in ML",
					body: `Hi B,\n\nHave you seen this paper from ACM?\n\n**â€œA Survey on Bias and Fairness in Machine Learningâ€ â€“ Mehrabi et al., 2021**\n\nIt outlines how bias in training data leads directly to structural inequality. The audit we ran clearly showed patterns aligned with **historical and representation bias**.\n\nWe seriously need to reconsider using the system for the next admissions cycle.\n\nâ€” **A**`,
					time: "2 weeks ago"
				}
			]
		};

		let currentCategory = "inbox";
		const emailListEl = document.getElementById("email-list");
		const emailSubjectEl = document.getElementById("email-subject");
		const emailFromEl = document.getElementById("email-from");
		const emailBodyEl = document.getElementById("email-body");
		const searchBar = document.getElementById("search-bar");

		function loadEmails(category, filter = "") {
			emailListEl.innerHTML = "";
			emails[category]
				.filter(email =>
					email.subject.toLowerCase().includes(filter) ||
					email.sender.toLowerCase().includes(filter)
				)
				.forEach((email, index) => {
					const li = document.createElement("li");
					li.className = "border-b px-5 py-4 hover:bg-gray-100 cursor-pointer flex";
					li.dataset.index = index;
					li.innerHTML = `
						<div class="w-10 h-10 bg-blue-500 text-white flex items-center justify-center rounded-full font-bold">
							${email.sender.charAt(0)}
						</div>
						<div class="ml-4 flex-1">
							<h3 class="font-bold">${email.sender}</h3>
							<p class="text-sm text-gray-600">${email.subject}</p>
						</div>
						<span class="text-xs text-gray-400">${email.time}</span>
					`;
					li.addEventListener("click", () => loadEmailDetail(category, index));
					emailListEl.appendChild(li);
				});
		}

		function loadEmailDetail(category, index) {
			const email = emails[category][index];
			emailSubjectEl.textContent = email.subject;
			emailFromEl.textContent = `From: ${email.sender} (${email.email})`;
			emailBodyEl.innerHTML = email.body
				.replace(/\n/g, "<br>")
				.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
		}

		searchBar.addEventListener("input", () => {
			loadEmails(currentCategory, searchBar.value.toLowerCase());
		});

		loadEmails("inbox");
	</script>
</body>

</html>